<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¡Estoy cumpliendo 3 años! - LEYDA NAOMI</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;500;600;700&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom CSS styles */
        body {
            font-family: 'Baloo 2', cursive;
            background: linear-gradient(135deg, #f9f4ff 0%, #ffe6f2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            display: flex; /* Flexbox para centrar el contenido */
            justify-content: center; /* Centrar horizontalmente */
            align-items: center; /* Centrar verticalmente */
            padding: 20px; /* Añadir padding para pantallas pequeñas */
            position: relative; /* Necesario para posicionar los corazones y globos */
        }
        .title {
            font-family: 'Dancing Script', cursive;
        }
        .card {
            background-color: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(5px);
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            z-index: 10; /* Asegura que la tarjeta esté sobre los corazones y globos */
            position: relative; /* Asegura que la tarjeta esté sobre los corazones y globos */
        }
        .btn-primary {
            background: linear-gradient(135deg, #ff9ed8 0%, #ff6ec4 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(255, 110, 196, 0.4);
        }
        .btn-secondary {
            background: linear-gradient(135deg, #c385ff 0%, #9c27b0 100%);
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(156, 39, 176, 0.4);
        }
        .map-container {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            height: 300px;
            width: 100%; /* Asegurar que el mapa ocupe el ancho completo */
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 110, 196, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(255, 110, 196, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 110, 196, 0);
            }
        }
        .countdown-container {
            background: linear-gradient(135deg, #ffd1ec 0%, #f3d9ff 100%);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(255, 110, 196, 0.2);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .countdown-item {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 0.75rem 0.5rem;
            min-width: 80px;
            position: relative;
            overflow: hidden;
        }
        .countdown-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff9ed8, #c385ff);
            border-radius: 44px 4px 0 0;
        }
        .countdown-number {
            font-size: 2rem;
            font-weight: 700;
            color: #9c27b0;
            line-height: 1;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .countdown-label {
            font-size: 0.8rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .countdown-separator {
            font-size: 2rem;
            font-weight: 700;
            color: #ff6ec4;
            margin: 0 0.25rem;
            align-self: center;
        }
        /* Confetti Heart Styles */
        .heart {
            position: fixed;
            top: -20px; /* Start above the viewport */
            width: 20px;
            height: 20px;
            background-color: #ff6ec4; /* Pink color */
            transform: rotate(-45deg);
            animation: fall linear infinite;
            z-index: 1; /* Below the main card content */
        }
        .heart::before,
        .heart::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #ff6ec4; /* Pink color */
        }
        .heart::before {
            top: -10px;
            left: 0;
        }
        .heart::after {
            top: 0;
            left: 10px;
        }

        /* Balloon Confetti Styles */
        .balloon {
            position: fixed;
            top: -50px; /* Start above the viewport */
            width: 30px;
            height: 40px;
            background-color: #3b82f6; /* Blue color (Tailwind blue-500) */
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            transform: rotate(-10deg);
            animation: fall linear infinite;
            z-index: 1; /* Below the main card content */
        }
        .balloon::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-top: 8px solid #3b82f6; /* Blue color for the knot */
        }
        .separator-heart {
            color: #ff6ec4; /* Color del corazón separador */
            font-size: 2.5rem; /* Tamaño del corazón */
            margin: 0.5rem 0; /* Espacio alrededor del corazón */
            display: block; /* Para que ocupe su propia línea */
            line-height: 1; /* Eliminar espacio extra de línea */
        }
        .info-box {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            text-align: center;
            flex: 1; /* Permite que las cajas se expandan y contraigan */
            min-width: 280px; /* Ancho mínimo para evitar que se aplasten */
        }

        /* Keyframes for the falling animation - Made slower */
        @keyframes fall {
            0% {
                transform: translateY(-50px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">
    <div class="container mx-auto px-4 py-10 max-w-3xl">
        <div class="card p-8 md:p-12 mb-8">
            <div class="text-center mb-8">
                <div class="flex flex-col md:flex-row justify-center items-stretch gap-8 mb-8">
                    <!-- First Box -->
                    <div class="info-box">
                        <h1 class="title text-5xl md:text-6xl text-pink-500 mb-4">Te invito a mi cumpleaños numero 3</h1>
                        <h2 class="text-2xl md:text-3xl font-bold text-purple-700">LEYDA NAOMI</h2>
                    </div>

                    <!-- Second Box -->
                    <div class="info-box">
                        <h1 class="title text-5xl md:text-6xl text-blue-400 mb-4">Acompañanos a nuestra presentacion</h1>
                        <h2 class="text-2xl md:text-3xl font-bold text-purple-700">LEYDA NAOMI</h2>
                        <h2 class="text-2xl md:text-3xl font-bold text-blue-700">JOEL LOPEZ</h2>
                    </div>
                </div>

                <div class="flex justify-center mb-4">
                    <!-- Calendar Icon -->
                    <svg class="w-16 h-16 text-pink-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" />
                        <path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z" clip-rule="evenodd" />
                    </svg>
                </div>
            </div>

            <!-- Audio Player Module -->
            <div class="flex flex-col items-center mb-8">
                <audio id="backgroundAudio" autoplay loop class="w-full max-w-md rounded-full shadow-md">
                    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
                    Tu navegador no soporta el elemento de audio.
                </audio>
            </div>


            <!-- Countdown Timer -->
            <div class="countdown-container mb-8">
                <h3 class="text-xl font-bold text-purple-700 text-center mb-4">Cuenta Regresiva</h3>
                <div class="flex justify-center items-center flex-wrap gap-2">
                    <div class="countdown-item text-center">
                        <div id="countdown-days" class="countdown-number">00</div>
                        <div class="countdown-label">Días</div>
                    </div>
                    <div class="countdown-separator">:</div>
                    <div class="countdown-item text-center">
                        <div id="countdown-hours" class="countdown-number">00</div>
                        <div class="countdown-label">Horas</div>
                    </div>
                    <div class="countdown-separator">:</div>
                    <div class="countdown-item text-center">
                        <div id="countdown-minutes" class="countdown-number">00</div>
                        <div class="countdown-label">Minutos</div>
                    </div>
                    <div class="countdown-separator">:</div>
                    <div class="countdown-item text-center">
                        <div id="countdown-seconds" class="countdown-number">00</div>
                        <div class="countdown-label">Segundos</div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                <div class="text-center">
                    <div class="bg-pink-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                        <!-- Calendar Icon -->
                        <svg class="w-8 h-8 text-pink-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12  15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" />
                            <path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-purple-700">Fecha</h3>
                    <p class="text-gray-700">Sábado, 26 de Julio 2025</p>
                </div>
                <div class="text-center">
                    <div class="bg-pink-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                        <!-- Clock Icon (Updated) -->
                        <svg class="w-8 h-8 text-pink-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 .75-.75V9Z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-purple-700">Hora de inicio </h3>
                    <p class="text-gray-700">15:00 hrs</p>
                </div>
                <div class="text-center">
                    <div class="bg-pink-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                        <!-- Location Icon -->
                        <svg class="w-8 h-8 text-pink-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path fill-rule="evenodd" d="m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-purple-700">Lugar</h3>
                    <p class="text-gray-700">Calle Mazapa S/N Mazapa, Zacapoaxtla, Puebla</p>
                </div>
            </div>

            <div class="mb-8">
                <div class="map-container" id="map">
                    <!-- Map will be loaded here by JavaScript -->
                </div>
            </div>

            <div class="flex flex-col md:flex-row justify-center items-center gap-4 mb-8">
                <a href="https://www.google.com/maps/place/19%C2%B043'51.3%22N+97%C2%B035'28.9%22W/@19.7309167,-97.593936,820m/data=!3m2!1e3!4b1!4m4!3m3!8m2!3d19.7309167!4d-97.5913611?entry=ttu&g_ep=EgoyMDI1MDYxNy4wIKXMDSoASAFQAw%3D%3D" target="_blank" class="btn-primary text-white font-bold py-3 px-8 rounded-full flex items-center">
                    <!-- Directions Icon -->
                    <svg class="w-6 h-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path fill-rule="evenodd" d="m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" clip-rule="evenodd" />
                    </svg>
                    Cómo Llegar
                </a>
                <!-- "Confirmar Asistencia" button now opens WhatsApp directly -->
                <a href="https://wa.me/5613048999?text=Hola%2C%20confirmo%20mi%20asistencia%20a%20la%20fiesta%20de%20LEYDA%20NAOMI." target="_blank" class="btn-secondary text-white font-bold py-3 px-8 rounded-full flex items-center pulse">
                    <!-- People/RSVP Icon -->
                    <svg class="w-6 h-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M4.5 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM14.25 8.625a3.375 3.375 0 116.75 0 3.375 3.375 0 01-6.75 0zM1.5 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.761-1.873a.75.75 0 01-.364-.63l-.001-.122zM17.25 19.128l-.001.144a2.25 2.25 0 01-.233.96 10.088 10.088 0 005.06-1.01.75.75 0 00.42-.643 4.875 4.875 0 00-6.957-4.611 8.586 8.586 0 011.71 5.157v.003z" />
                    </svg>
                    Confirmar Asistencia
                </a>
            </div>
            <div class="text-center">
                <p class="text-xl text-pink-500 font-bold">¡Te esperamos para celebrar juntos!</p>
            </div>
        </div>
    </div>

    <!-- The RSVP modal and its associated script logic are no longer needed -->
    <!-- Message Modal Structure (kept as a general utility, but not used by RSVP now) -->
    <div id="message-modal" class="message-modal">
        <div class="message-modal-content">
            <h3 id="message-title" class="text-2xl font-bold text-purple-700 mb-4"></h3>
            <p id="message-text" class="text-gray-700 mb-6"></p>
            <button onclick="closeModal('message-modal')" class="btn-primary text-white font-bold py-2 px-6 rounded-full">Cerrar</button>
        </div>
    </div>

    <script>
        // Convert DMS to decimal degrees for the map
        function dmsToDecimal(dmsStr) {
            // Parse DMS coordinates: 19°43'51.3"N 97°35'28.9"W
            const parts = dmsStr.split(' ');
            // Parse latitude: 19°43'51.3"N
            const latParts = parts[0].match(/(\d+)°(\d+)'(\d+\.\d+)"([NS])/);
            const latDeg = parseFloat(latParts[1]);
            const latMin = parseFloat(latParts[2]);
            const latSec = parseFloat(latParts[3]);
            const latDir = latParts[4];
            // Parse longitude: 97°35'28.9"W
            const lngParts = parts[1].match(/(\d+)°(\d+)'(\d+\.\d+)"([EW])/);
            const lngDeg = parseFloat(lngParts[1]);
            const lngMin = parseFloat(lngParts[2]);
            const lngSec = parseFloat(lngParts[3]);
            const lngDir = lngParts[4];

            // Calculate decimal degrees
            let lat = latDeg + (latMin / 60) + (latSec / 3600);
            if (latDir === 'S') lat = -lat;

            let lng = lngDeg + (lngMin / 60) + (lngSec / 3600);
            if (lngDir === 'W') lng = -lng;

            return { lat, lng };
        }

        // Load the map with the exact coordinates
        function initMap() {
            const coords = dmsToDecimal("19°43'51.3\"N 97°35'28.9\"W");
            const lat = coords.lat;
            const lng = coords.lng;

            // Create map iframe
            const mapIframe = document.createElement('iframe');
            mapIframe.width = '100%';
            mapIframe.height = '100%';
            mapIframe.frameBorder = '0';
            mapIframe.scrolling = 'no';
            mapIframe.marginHeight = '0';
            mapIframe.marginWidth = '0';
            // OpenStreetMap embed URL with marker
            mapIframe.src = `https://www.openstreetmap.org/export/embed.html?bbox=${lng-0.01},${lat-0.01},${lng+0.01},${lat+0.01}&layer=mapnik&marker=${lat},${lng}`;
            mapIframe.style.border = '0';

            document.getElementById('map').appendChild(mapIframe);
        }

        let countdownInterval; // Declare countdownInterval globally

        // Countdown Timer
        function updateCountdown() {
            const eventDate = new Date('July 26, 2025 15:00:00').getTime(); // Target date and time
            const now = new Date().getTime(); // Current date and time
            const timeLeft = eventDate - now; // Time difference in milliseconds

            // Calculate time units
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            // Add leading zeros
            const formatNumber = (num) => num < 10 ? `0${num}` : num;

            // Update the countdown display
            document.getElementById('countdown-days').textContent = formatNumber(days);
            document.getElementById('countdown-hours').textContent = formatNumber(hours);
            document.getElementById('countdown-minutes').textContent = formatNumber(minutes);
            document.getElementById('countdown-seconds').textContent = formatNumber(seconds);

            // If the countdown is over
            if (timeLeft < 0) {
                clearInterval(countdownInterval); // Stop the countdown
                // Set all to 00 if event has passed
                document.getElementById('countdown-days').textContent = '00';
                document.getElementById('countdown-hours').textContent = '00';
                document.getElementById('countdown-minutes').textContent = '00';
                document.getElementById('countdown-seconds').textContent = '00';
            }
        }

        // Functions for the general message modal (not used by RSVP now)
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        function showMessage(title, message) {
            document.getElementById('message-title').textContent = title;
            document.getElementById('message-text').textContent = message;
            openModal('message-modal');
        }

        window.onclick = function(event) {
            const messageModal = document.getElementById('message-modal');
            if (event.target === messageModal) {
                closeModal('message-modal');
            }
        }

        // Confetti logic for hearts
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 4 + 6 + 's'; // 6 to 10 seconds (slower)
            heart.style.animationDelay = Math.random() * 4 + 's'; // Delay for staggered effect
            document.body.appendChild(heart);

            // Remove heart after animation to prevent memory leak
            heart.addEventListener('animationend', () => {
                heart.remove();
            });
        }

        // Confetti logic for balloons
        function createBalloon() {
            const balloon = document.createElement('div');
            balloon.classList.add('balloon');
            balloon.style.left = Math.random() * 100 + 'vw';
            balloon.style.animationDuration = Math.random() * 4 + 6 + 's'; // 6 to 10 seconds (slower)
            balloon.style.animationDelay = Math.random() * 4 + 's'; // Delay for staggered effect
            document.body.appendChild(balloon);

            // Remove balloon after animation to prevent memory leak
            balloon.addEventListener('animationend', () => {
                balloon.remove();
            });
        }

        // Audio autoplay logic and initializations
        window.addEventListener('load', function() {
            const backgroundAudio = document.getElementById('backgroundAudio');

            // Attempt to play audio on load, it will likely be muted by browser policy
            backgroundAudio.play().catch(error => {
                console.log("Autoplay was prevented (likely due to no user interaction or browser policy).", error);
            });

            // Start confetti (hearts and balloons) - Increased interval for separation
            setInterval(createHeart, 800); // Create a new heart every 800ms (less frequent)
            setInterval(createBalloon, 1000); // Create a new balloon every 1000ms (less frequent)

            initMap(); // Load the OpenStreetMap iframe
            updateCountdown(); // Run countdown once immediately
            countdownInterval = setInterval(updateCountdown, 1000); // Update countdown every second
        });
    </script>
</body>
</html>
